<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>js move</title>
    <style media="screen">
      body { margin: 0; }
    </style>
  </head>
  <body>
    <script src="es5/timestore.js"></script>
    <script type="text/javascript">

      var store = new TimeStore(2);

      var interpolatedColor = function (i, l){
        var h = (1-Math.min(1,Math.max(0, i))) * 130;
        return 'hsl('+ h +', 100%, ' + (l || 50) + '%)'
      };

      function render () {
        requestAnimationFrame(render);

        var distance = store.distance(1000) / 200;
        document.body.style.backgroundColor = interpolatedColor(distance);

      };
      render();

      window.addEventListener('deviceorientation', function(eventData){
        store.add(eventData.gamma, eventData.beta, eventData.alpha);
      }, false);

    </script>
  </body>
</html>
