<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>js move</title>
    <style media="screen">
      body { margin: 0; }
    </style>
  </head>
  <body>
    <script src="es5/timestore.js"></script>
    <script src="es5/fns.js"></script>
    <script type="text/javascript">

      var store = new TimeStore(['gamma', 'beta', 'alpha']);

      var interpolatedColor = function (i, l){
        var h = (1-Math.min(1,Math.max(0, i))) * 130;
        return 'hsl('+ h +', 100%, ' + (l || 50) + '%)'
      };

      function render () {
        requestAnimationFrame(render);

        var d = distance(store.extent(1000)) / 500;
        document.body.style.backgroundColor = interpolatedColor(d);

      };
      render();

      window.addEventListener('deviceorientation', store.add.bind(store), false);

    </script>
  </body>
</html>
