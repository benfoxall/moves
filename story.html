<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Moves</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/other.css" charset="utf-8">
    <style>
      canvas {
          max-width: 100%;
          margin:auto;
      }

      code {
        position: relative;
        overflow: visible;
      }

      .help-circle {
        width:100%;
        position: relative;
        margin-top:-1rem;
        margin-bottom: 2rem;
      }

      .help-circle button {
        position: absolute;
        height:48px;
        width:48px;
        right:12px;
        top:-34px;

        border: none;
        border-radius: 50%;
        background: rgba(218, 42, 50, 0.84);
        box-shadow: rgba(0, 0, 0, 0.3) -2px 3px 5px;

        will-change: transform;
        transition: all .5s;
      }

      .help-circle button.helping {
        transform: scale(0.01);
      }

      .help-circle.touch button {
        transform: scale(0.01);
      }

      .help-touch .help-circle.touch button{
        transform: scale(1);
      }

      #game {
        /*height:200px;*/
        background: #ccc;
        text-align: center;
        padding:5%;
      }

      #game button {
        font-size: 2em;
        padding:1em;
        width:90%;

        will-change: opacity;
        transition: opacity .25s;
      }

    </style>
  </head>
  <body>

    <div class="content"><!-- I -->
    <article class="main-article"><!-- know -->
    <div class="description entry-content"><!-- html -->


    <h1>Some stuff</h1>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <pre><code>// current =
<span data-key="move_current">{
  "x": 162,
  "y": 346,
  "timestamp": 7734.76
}</span>
</code></pre>
<div class="help-circle touch"><button data-help="touch"></button></div>


    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>


<pre><code>
if(past != last)
  drawPoints(last)
  /*
<div data-key="move_list"><!-- TODO make sure canvas is sized for HW optimisation --><canvas height="250" width="400"></canvas>
</div>*/</code></pre>
<div class="help-circle touch"><button data-help="touch"></button></div>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco</p>


<pre><code data-key="move_calculation">// <span id="move_calculation_range">[[0, 2], [20, 30]]</span>
let range = (points) => {

  for(p of points) {

  }

  {
    x:{min: xMin, max: xMax},
    y:{min: yMin, max: yMax}
  }
}

// <span id="move_calculation_extent">[2, 10]</span>
let extent = (range) => ({
  x: range.x.max - range.x.min,
  y: range.y.max - range.y.min
})

// <span id="move_calculation_distance">123</span>
let distance (e) =>
  Math.sqrt(
    Math.pow(e.x, 2) +
    Math.pow(e.y, 2)
  )
</code></pre>
<div class="help-circle touch"><button data-help="touch"></button></div>



    <div data-key="move_graph">
        <canvas height="150" width="150"></canvas>
    </div>
    <div class="help-circle touch"><button data-help="touch"></button></div>

    <h2>Colours</h2>


    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco</p>

<pre><code data-key="colour_calculation">
let scale = a => b => a * b
  // s = (255/300)(d) = <span id="colour_calculation_scale">0</span>

let clamp = max => d => Math.min(max, Math.max(0, d))
  // i = (255)(~~s) = <span id="colour_calculation_clamp">0</span>

let colour = i => `rgb(${i}, ${255-i}, 0)`
  // (i) = <span id="colour_calculation_colour">0</span>

// now we can take our distance and turn it into a colour
colour(clamp(255)(parseInt(scale(100)(d))))

</code></pre>


<div id="colour_calculation_out" style="width:100%; height:150px;">
</div>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>


    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <hr />


    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <code><pre data-key="orientation_current">{
	gamma: …
	alpha: …
	beta: …
}</pre></code>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est alaborum.</p>



    <canvas height="200" width="300" data-key="orientation_graph"></canvas>



    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

    <pre><code>const READY = 1,
      STARTED = 2,
      LOST = 4

let state = READY

function start () {
  if(state &amp; READY | LOST) {
    hideButton()
    state = STARTED
  }
}

function lose () {
  if(state &amp; STARTED) {
    showButton()
    state = LOST
  }
}

// state = <span data-key="state_code">READY</span>
</code></pre>

<div data-key="state_game" id="game">
  <button id="state_game_button">START</button>
</div>


  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<script src="es5/polyfill.js"></script>
<script src="es5/story.js"></script>

</body>
</html>
